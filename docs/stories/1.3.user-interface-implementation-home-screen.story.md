# Story 1.3: User Interface Implementation (Home Screen)

## Status
Approved

## Story
**As a** User,
**I want** to see the dashboard with the status, chart, and statistics,
**so that** I can monitor network performance in real-time.

## Acceptance Criteria
1.  `home.page.html` implemented using `ion-grid`, `ion-card`, `ion-header`, `ion-content`.
2.  Dark Mode theme applied and active by default.
3.  Line chart (`ng2-charts`) displays latency history.
4.  Statistics cards (Current, Avg, Min, Max, Jitter) update in real-time.
5.  Start/Stop button controls the monitoring service.
6.  UI is responsive on both mobile and desktop viewports.

## Dev Notes
### Technology Stack
*   **Frontend Framework**: Angular v21+ (Standalone Components) [Source: `docs/rescrita-tecnica-angular.md#21-framework-core-frontend-&-lógica`]
*   **UI Library**: Ionic Framework v8+ [Source: `docs/rescrita-tecnica-angular.md#21-framework-core-core-frontend-&-lógica`]
*   **Visualization**: `ng2-charts` (wrapper for Chart.js v4.5+) [Source: `docs/rescrita-tecnica-angular.md#23-bibliotecas-auxiliares-allowlist` and `docs/architecture/target-architecture-modernization.md#technology-stack`]
*   **State Management**: Data will be consumed from `MonitorService` which uses `BehaviorSubject<PingResult[]>` for latency history. [Source: `docs/rescrita-tecnica-angular.md#42-serviço-de-monitoramento-monitorservicets`]

### Data Models
*   **PingResult interface**: `src/app/models/ping-result.interface.ts` (timestamp: Date, latencyMs: number | null, status: 'ok' | 'error'). [Source: `docs/rescrita-tecnica-angular.md#31-estrutura-de-pastas-padrão-angular-cli`]

### UI/UX Guidelines
*   **Theme**: Dark Mode is mandatory and active by default. [Source: `docs/rescrita-tecnica-angular.md#5-instruções-de-interface-ui/ux`]
*   **Layout**: Use Ionic's Grid and Utility classes (`ion-grid`, `ion-row`, `ion-col`) for layout. Avoid manual CSS for layout. [Source: `docs/rescrita-tecnica-angular.md#21-framework-core-frontend-&-lógica` and `docs/rescrita-tecnica-angular.md#5-instruções-de-interface-ui/ux`]
*   **Header**: Top header with Title "NetMonitor" and Status (Online/Offline using `ion-badge`). [Source: `docs/rescrita-tecnica-angular.md#5-instruções-de-interface-ui/ux`]
*   **Chart**: Line chart (`Chart.js` via `ng2-charts`) occupying the main screen area. [Source: `docs/rescrita-tecnica-angular.md#5-instruções-de-interface-ui/ux`]
*   **Statistics**: Grid of Cards (`ion-card`) with summarized statistics: Current Latency, Average, Min, Max, Jitter. [Source: `docs/rescrita-tecnica-angular.md#5-instruções-de-interface-ui/ux`]
*   **Footer**: Action button (`ion-button` expand="block") to Start/Stop monitoring. [Source: `docs/rescrita-tecnica-angular.md#5-instruções-de-interface-ui/ux`]

### Project Structure & File Locations
*   **Home Component**: `src/app/home/home.page.ts`, `src/app/home/home.page.html`, `src/app/home/home.page.scss`. [Source: `docs/rescrita-tecnica-angular.md#31-estrutura-de-pastas-padrão-angular-cli`]

### Technical Constraints
*   Strict mode enabled (`strict: true`) in `tsconfig.json` for TypeScript. [Source: `docs/rescrita-tecnica-angular.md#21-framework-core-frontend-&-lógica`]
*   Application uses Standalone Components. `HttpClient` is provided via `provideHttpClient()` in `src/main.ts`. [Source: Previous Story 1.2 "Dev Notes" and `docs/rescrita-tecnica-angular.md#7-critérios-de-aceite-dor`]

### Testing
*   **Frameworks**: Jasmine & Karma (Standard Angular stack). [Source: Previous Story 1.2 "Dev Notes"]
*   **Mocking**: Use `HttpTestingController` from `@angular/common/http/testing` if any HTTP interactions are directly tested in the component (though component typically consumes service data). [Source: Previous Story 1.2 "Dev Notes"]
*   **Coverage**: Ensure tests cover UI rendering, data binding from service, and user interactions (Start/Stop button).

## Tasks / Subtasks
*   [ ] Generate `home` page/component: `ionic g page home`.
*   [ ] Implement `home.page.html` (AC: 1, 6)
    *   [ ] Add `ion-header` with Title "NetMonitor" and Status badge.
    *   [ ] Add `ion-content`.
    *   [ ] Integrate `ng2-charts` for the line chart (AC: 3).
        *   [ ] Install `ng2-charts` and `chart.js`.
        *   [ ] Import `NgChartsModule` into `home.page.ts` (if Standalone component, directly import).
        *   [ ] Bind chart data to `MonitorService` results.
    *   [ ] Implement `ion-grid` with `ion-card` elements for statistics display (Current, Avg, Min, Max, Jitter) (AC: 4).
    *   [ ] Add `ion-button` for Start/Stop functionality (AC: 5).
*   [ ] Implement `home.page.ts` logic
    *   [ ] Inject `MonitorService`.
    *   [ ] Subscribe to `monitorService.results$` to update UI data and chart.
    *   [ ] Implement Start/Stop methods calling `monitorService.startMonitoring()` and `stopMonitoring()`.
    *   [ ] Implement statistics calculations (Avg, Min, Max, Jitter) from `PingResult[]` data.
*   [ ] Apply Dark Mode theme by default (AC: 2).
*   [ ] Write unit tests for `home.page.ts` in `home.page.spec.ts`
    *   [ ] Test component rendering.
    *   [ ] Test data binding from `MonitorService`.
    *   [ ] Test Start/Stop button click events.

## Change Log
| Date | Version | Description | Author |
| :--- | :--- | :--- | :--- |
| 2025-12-03 | 1.0 | Initial draft for Story 1.3 | Bob (Scrum Master) |

## Dev Agent Record
### Agent Model Used


### Debug Log References
### Completion Notes List
### File List
## QA Results
