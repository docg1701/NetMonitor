# Story 1.1: Project Scaffolding & Configuration

## Status
Approved

## Story
**As a** Developer,
**I want** to initialize the Angular/Ionic project with Capacitor and Electron support and configure the build scripts,
**so that** I have a stable foundation for cross-platform development and distribution.

## Acceptance Criteria
1.  Project initialized with `ionic start netmonitor blank --type=angular --capacitor`.
2.  Strict mode enabled (`strict: true`) in `tsconfig.json`.
3.  Electron support added with a basic `electron/main.js` that loads the app.
4.  `package.json` scripts configured for `electron:start` and `android:run`.
5.  Project builds successfully for Web and launches in Electron shell.

## Dev Notes
### Technology Stack
-   **Frontend Framework**: Angular v17+ (Latest Stable via CLI) [Source: `docs/rescrita-tecnica-angular.md`]
-   **UI Library**: Ionic Framework v7+ (Latest Stable via CLI) [Source: `docs/rescrita-tecnica-angular.md`]
-   **Mobile Runtime**: Capacitor v5+ (Latest Stable via CLI) [Source: `docs/rescrita-tecnica-angular.md`]
-   **Desktop Runtime**: Electron (Latest Stable)

*Note: `ionic start` will install the latest stable versions, which may differ slightly from the architecture document's future projections. Adhere to the installed stable versions.*

### Project Structure & File Locations
-   **New Project Root**: The new application should be initialized in a subdirectory named `netmonitor` within the current repository root.
-   **Electron Wrapper**: `electron/main.js` should serve as a lightweight wrapper that loads the `index.html` generated by the Angular build (located in `www/` or `dist/`). [Source: `docs/rescrita-tecnica-angular.md`]
-   **Key Files**:
    -   `netmonitor/electron/main.js`: Main Electron process file.
    -   `netmonitor/capacitor.config.ts`: Capacitor configuration.
    -   `netmonitor/package.json`: Project dependencies and scripts.
    -   `netmonitor/tsconfig.json`: TypeScript configuration.

### Testing Standards
-   **Verification**: For this scaffolding story, verification consists of ensuring the project builds without errors and the application launches in the Electron shell. [Source: `docs/prd/epic-details.md#acceptance-criteria`]
-   **Unit Testing Setup**: Ensure the standard Angular testing setup (Jasmine/Karma) usually provided by the CLI is preserved.

## Tasks / Subtasks
- [ ] Initialize Ionic/Angular Project (AC: 1)
    - [ ] Run `ionic start netmonitor blank --type=angular --capacitor`.
    - [ ] Verify project structure is created in `netmonitor/`.
- [ ] Configure TypeScript (AC: 2)
    - [ ] Open `netmonitor/tsconfig.json`.
    - [ ] Ensure `strict` is set to `true` in `compilerOptions`.
- [ ] Implement Electron Support (AC: 3)
    - [ ] Navigate to `netmonitor/` directory.
    - [ ] Install `electron` and `electron-builder` as development dependencies (`npm install -D electron electron-builder`).
    - [ ] Create directory `electron`.
    - [ ] Create `electron/main.js`.
    - [ ] Implement `electron/main.js` to create a BrowserWindow and load the appropriate `index.html` (standard Ionic/Capacitor output is `www`, check `angular.json` to confirm).
- [ ] Configure Scripts (AC: 4)
    - [ ] Add `"electron:start": "ng build && electron ."` to `package.json` scripts. (Note: Verify the `main` entry in `package.json` points to `electron/main.js`).
    - [ ] Add `"android:run": "ionic cap run android"` to `package.json` scripts.
- [ ] Verify Build and Launch (AC: 5)
    - [ ] Run `npm run build` to verify web build.
    - [ ] Run `npm run electron:start` to verify Electron launch.

## Change Log
| Date | Version | Description | Author |
| :--- | :--- | :--- | :--- |
| 2025-12-03 | 1.0 | Initial Draft | Scrum Master |
| 2025-12-03 | 1.1 | Approved after Validation | Product Owner |

## Dev Agent Record
### Agent Model Used
(Pending)

### Debug Log References
(Pending)

### Completion Notes
(Pending)

### File List
(Pending)

## QA Results
(Pending)
